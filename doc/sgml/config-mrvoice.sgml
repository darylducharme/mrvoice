<!--
  SVN ID: $Id$
-->

<chapter><title>Configuring Mr. Voice</title>
  <para>This section will take you through configuring the Mr. Voice software.  Mr. Voice is configured via an external configuration file - this provides the most flexibility in keeping your configuration sane from one version to the next.  On Unix, the config file is named <filename>.mrvoicerc</filename>, and lives in your home directory.  On Windows, the filename is <filename>C:\mrvoice.cfg</filename>.</para>
  <para>If you start Mr. Voice without a configuration file, or if there is an error in your configuration, Mr. Voice will pop up the preferences window, allowing you to enter and edit the configuration information.  Changes are then written out to the appropriate configuration file.  The configuration options are detailed below.
    <figure>
      <title>The Preferences window</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/preferences.png" format="png">
        </imageobject>
        <textobject>
          <phrase>Screenshot of the Preferences window</phrase>
        </textobject>
      </mediaobject>
    </figure>
  </para>
  <sect1><title>Configuration Options and Variables</title>
    <para>The options that you can set in the <menuchoice> <guimenu>File</guimenu> <guimenuitem>Preferences</guimenuitem> </menuchoice> menu are listed below.  After the name of each option, the actual variable name is given in parenthesis, in case you need to edit the configuration files manually (Manual configuration is detailed in section 2.1.1).</para>
    <itemizedlist>
      <listitem>
        <para><varname>Database Name (db_name)</varname> - This should be set to the name of the database containing the mrvoice and categories tables.  You set this up in Chapter 1. If the database is local to the machine that you are running mrvoice on (as is normally the case), you simply need to supply the database name.  If it is on a remote server, the variable takes the form of "DATABASENAME:HOSTNAME:PORT".</para>
      </listitem>
      <listitem>
        <para><varname>Database Username (db_username)</varname> - Set to a username that has SELECT access on the tables.  This is the username that you chose when you configured MySQL in Chapter 1 ("mrvoice" in this example).</para>
      </listitem>
      <listitem>
        <para><varname>Database Password (db_pass)</varname> - The password in the database for user <varname>db_username</varname>.  You set this up when you configured MySQL in Chapter 1 ("password" in this example).</para>
      </listitem>
      <listitem>
        <para><varname>MP3 Player (mp3player)</varname> - The path to your MP3 player.  Likely options are <filename>/usr/bin/xmms</filename> for Unix systems, and <filename>C:\Program Files\WinAmp\WinAmp.exe</filename> for Windows systems.</para>
      </listitem>
      <listitem>
        <para><varname>MP3 Directory (filepath)</varname> - The path information that will be prepended to the filename retrieved from the database or, in other words, the directory where you store your MP3 files.  Used to find the actual MP3 files on the local system.  The user who is running Mr. Voice must have read/write permission into this directory.</para>
      </listitem>
      <listitem>
        <para><varname>Hotkey Directory (savepath)</varname> - This will be the default directory that hotkey save files will go into.  The user running the program as must have read/write permission into that directory. Recommended to be different than the Mr. Voice install directory.</para>
      </listitem>
      <listitem>
        <para><varname>Number of Dynamic Documents To Show (savefile_max)</varname> - The number of "most recently accessed hotkey files" to keep available under the <guimenu>File</guimenu> menu.  Defaults to 4.</para>
      </listitem>
      <listitem>
        <para><varname>httpQ Password (httpq_pw)</varname> - The password used to connect to the httpQ plugin for WinAmp.  Only useful under Windows if you're using the httpQ plugin.  Otherwise it's ignored.</para>
      </listitem>
      <listitem>
        <para><varname>Search ASCAP songs (search_ascap)</varname> - Enables searches of songs that have ASCAP set as the publisher field.  Only needed if you are using song publishers in your database.</para>
      </listitem>
      <listitem>
        <para><varname>Search BMI songs (search_bmi)</varname> - Enables searches of songs that have BMI set as the publisher field.  Only needed if you are using song publishers in your database.</para>
      </listitem>
      <listitem>
        <para><varname>Show Song Publisher (show_publisher)</varname> - Enables the display of the song publisher in the search results.  Only needed if you are using song publishers in your database.</para>
      </listitem>
      <listitem>
        <para><varname>Search Other songs (search_other)</varname> - Enables searches of songs that have "Other" set as the publisher field.  Only needed if you are using song publishers in your database.</para>
      </listitem>
    </itemizedlist>
    <sect2><title>Manual Configuration</title>
      <para>To troubleshoot, fine-tune changes, or skip the GUI alltogether, you can manually set up the configuration file.  The configuration file consists of lines in the following format:</para>
      <para><computeroutput>variable_name::value</computeroutput></para>
      <para>Where variable_name is the name in parenthesis in the configuration listing above, followed by two colons, followed by the value you want to set the variable to.  A sample file on Unix would look like this:
        <screen>
db_name::comedysportz
db_username::mrvoice
db_pass::password
filepath::/mp3/
savedir::/tmp/
mp3player::/usr/bin/xmms
savefile_max::4
httpq_pw::mypass
search_ascap::1
search_bmi::1
search_other::1
show_publisher::0
        </screen>
      </para>
    </sect2>
  </sect1>
</chapter>
